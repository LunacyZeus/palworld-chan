var m=(a,c,o)=>new Promise((s,n)=>{var i=e=>{try{u(o.next(e))}catch(t){n(t)}},l=e=>{try{u(o.throw(e))}catch(t){n(t)}},u=e=>e.done?s(e.value):Promise.resolve(e.value).then(i,l);u((o=o.apply(a,c)).next())});import{d as F,a2 as B,r as v,a3 as C,a4 as k,v as E,b as p,A as _,Q as h,R as g,P as r,D as x,a$ as D}from"./1ac8a64b.js";import"./467ed029.js";import{F as A}from"./1cf2d659.js";import{_ as y}from"./31a72630.js";import{F as N}from"./a8f4ea45.js";import{_ as V}from"./0ee26181.js";import"./d78d860e.js";import"./d18956c8.js";import"./12544613.js";const S=a=>(h("data-v-c86efa2c"),a=a(),g(),a),I=S(()=>r("div",{class:"note px-30px"},[r("p",null,"\u6635\u79F0\u652F\u63012-12\u4E2A\u4E2D\u6587\u5B57\u7B26\u62163-24\u4E2A\u82F1\u6587\u5B57\u7B26\uFF0C"),r("p",null,"\u7B26\u53F7\u4EC5\u652F\u6301\u201D-\u201C\u548C\u201D_\u201C\u548C\u201D.\u201C\u4EE5\u53CA\u201C\xB7\u201D")],-1)),P=F({__name:"EditNickname",setup(a){const c=B(),{nickname:o}=c.getUserInfo,s=v(),n=C({nickname:""}),i=()=>u=>m(this,null,function*(){return/^[\u4E00-\u9FA5A-Za-z0-9-_.Â·]+$/.test(u)?u.length<2||u.length>12?Promise.resolve("\u957F\u5EA6\u4E0D\u7B26\u5408"):Promise.resolve(!0):Promise.resolve("\u8BF7\u8F93\u5165\u6B63\u786E\u5185\u5BB9")});function l(){var u;(u=s.value)==null||u.validate().then(()=>m(this,null,function*(){var e;try{const t=(e=s.value)==null?void 0:e.getValues();D({message:`\u5F53\u524D\u8868\u5355\u503C\uFF1A${JSON.stringify(t)}`})}finally{}})).catch(()=>{console.error("\u9A8C\u8BC1\u5931\u8D25")})}return k(()=>{n.nickname=o}),(u,e)=>{const t=A,d=N;return x(),E("div",null,[p(y,null,{right:_(()=>[r("span",{class:"text-32px",onClick:l},"\u4FDD\u5B58")]),_:1}),p(d,{ref_key:"formRef",ref:s},{default:_(()=>[p(t,{class:"mt-20px",name:"nickname",modelValue:n.nickname,"onUpdate:modelValue":e[0]||(e[0]=f=>n.nickname=f),placeholder:"\u8BF7\u8F93\u5165\u6635\u79F0\uFF082-12\u5B57\uFF09",rules:[{validator:i(),trigger:"onChange"}]},null,8,["modelValue","rules"])]),_:1},512),I])}}});const T=V(P,[["__scopeId","data-v-c86efa2c"]]);export{T as default};

var l=(r,t,e)=>new Promise((n,s)=>{var a=o=>{try{i(e.next(o))}catch(c){s(c)}},u=o=>{try{i(e.throw(o))}catch(c){s(c)}},i=o=>o.done?n(o.value):Promise.resolve(o.value).then(a,u);i((e=e.apply(r,t)).next())});import{at as h,au as f}from"./4399626c.js";import{s as P,a as d,i as m,r as y}from"./4c9440a4.js";function I(r){return(t,e)=>{const n=t[r],s=e[r];return n>s?-1:n<s?1:0}}const g=h({id:"app-rcon",state:()=>({error:"",result:"",rconInfo:null,serverInfo:null,onlinePlayers:null}),getters:{getError(){return this.error||""},getResult(){return this.result||""},getRconInfo(){return this.rconInfo||{}},getServerInfo(){return this.serverInfo},getOnlinePlayers(){const r=[];return this.onlinePlayers!=null&&r.push(...this.onlinePlayers.sort(I("online"))),r}},actions:{setRconInfo(r){this.rconInfo=r},setServerInfo(r){this.serverInfo=r},setOnlinePlayers(r){this.onlinePlayers=r},SendBroadCast(r){return l(this,null,function*(){return new Promise((t,e)=>{P(r).then(n=>{let s={broadCast:"",error:""};const a=n.message||null;(n.code||404)==200?s=n.result:s.error=a,this.setRconInfo(s),t(n)}).catch(n=>{this.error=n,e(n)})})})},ShowPlayers(){return l(this,null,function*(){return new Promise((r,t)=>{d().then(e=>{this.setOnlinePlayers(e.result||null),r(e)}).catch(e=>{this.error=e,t(e)})})})},Info(){return l(this,null,function*(){return new Promise((r,t)=>{m().then(e=>{this.setServerInfo(e.result||null),r(e)}).catch(e=>{this.error=e,t(e)})})})},Restart(r){return l(this,null,function*(){return new Promise((t,e)=>{y(r).then(n=>{const s=n.message||null;(n.code||404)==200?this.result=n.result:this.error=s,t(n)}).catch(n=>{this.error=n,e(n)})})})}}});function w(){return g(f)}export{w as u};

var F=(c,a,u)=>new Promise((o,t)=>{var n=e=>{try{r(u.next(e))}catch(s){t(s)}},i=e=>{try{r(u.throw(e))}catch(s){t(s)}},r=e=>e.done?o(e.value):Promise.resolve(e.value).then(n,i);r((u=u.apply(c,a)).next())});import{d as g,r as _,O as E,y as b,b as l,C as d,Z as p,_ as A,b7 as y,a0 as C,D as x,P as R,H as w}from"./34eb2ee9.js";import{C as B}from"./5c7f7196.js";import"./ec379628.js";import{F as V}from"./f9b93fed.js";/* empty css        */import{_ as T}from"./4992b7c6.js";import{u as h}from"./0ad0edc8.js";import{F as S}from"./df84421a.js";import{_ as k}from"./0ee26181.js";import"./f8bbc39d.js";import"./d9a1b138.js";import"./72efd5cb.js";import"./e854d8f1.js";const N={style:{margin:"16px"}},U=g({__name:"Restart",setup(c){const a=_("30"),u=_("Server_will_reboot_in_30_s"),o=_(!1),t=h(),n=()=>F(this,null,function*(){yield t.Restart({seconds:a.value,message:u.value}),y(),o.value=!1,t.getResult?(""+t.getResult,C("\u91CD\u542F\u6210\u529F: "+t.getResult)):t.getError&&(console.error("Failed to Restart:",t.getError),p("\u91CD\u542F\u5931\u8D25: "+t.getError))}),i=r=>{if(o.value=!0,u.value==""){p("\u5E7F\u64AD\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A"),o.value=!1;return}if(a.value==""){p("\u5EF6\u8FDF\u65F6\u95F4\u4E0D\u80FD\u4E3A\u7A7A"),o.value=!1;return}A({duration:0,message:"\u91CD\u542F\u670D\u52A1\u5668\u4E2D...",loadingType:"spinner"}),n()};return(r,e)=>{const s=V,f=B,v=E,D=S;return x(),b("div",null,[l(T),l(D,{onSubmit:i},{default:d(()=>[l(f,{inset:"",style:{margin:"6px"},title:"\u91CD\u542F\u670D\u52A1\u7AEF"},{default:d(()=>[l(s,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=m=>a.value=m),type:"digit",label:"\u5EF6\u8FDF"},null,8,["modelValue"]),l(s,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=m=>u.value=m),rows:"3",autosize:"",label:"\u5E7F\u64AD",type:"textarea",maxlength:"50",name:"message",placeholder:"\u8BF7\u8F93\u5165\u91CD\u542F\u53D1\u9001\u7684\u5E7F\u64AD(\u4E0D\u80FD\u6709\u7A7A\u683C\u548C\u4E2D\u6587)","show-word-limit":""},null,8,["modelValue"])]),_:1}),R("div",N,[l(v,{round:"",block:"",type:"primary",disabled:o.value,"native-type":"submit"},{default:d(()=>[w(" \u91CD\u542F")]),_:1},8,["disabled"])])]),_:1})])}}});const Q=k(U,[["__scopeId","data-v-bafb1324"]]);export{Q as default};

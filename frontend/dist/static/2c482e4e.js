var h=Object.defineProperty;var f=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var F=(n,a,l)=>a in n?h(n,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[a]=l,D=(n,a)=>{for(var l in a||(a={}))C.call(a,l)&&F(n,l,a[l]);if(f)for(var l of f(a))k.call(a,l)&&F(n,l,a[l]);return n};var b=(n,a,l)=>new Promise((e,d)=>{var i=u=>{try{m(l.next(u))}catch(s){d(s)}},g=u=>{try{m(l.throw(u))}catch(s){d(s)}},m=u=>u.done?e(u.value):Promise.resolve(u.value).then(i,g);m((l=l.apply(n,a)).next())});import{av as B,aw as v,d as y,ax as _,r as S,a4 as P,O as T,v as U,b as o,A as p,a8 as N,D as x,x as t,P as w,H as R}from"./ad16271d.js";import{C as O}from"./466cf2bb.js";import"./dd5d889d.js";import{F as $}from"./d93f9c35.js";/* empty css        */import{_ as K}from"./bec5aeb5.js";import{u as q,g as G}from"./82102ae1.js";import{F as M}from"./537ca844.js";import{_ as H}from"./0ee26181.js";import"./7632f65a.js";import"./d0d5f56f.js";import"./cb588b58.js";const V={processName:"",executablePath:"",memoryThreshold:"",checkPeriod:"",restartDelay:"",rconAddress:"",rconPort:"",rconPasswd:"",sourceDir:"",destDir:"",backupTime:"",backupCount:"",accessToken:"",secretKey:"",bucket:""},I=B({id:"form",state:()=>({result:"",error:"",formData:D({},V)}),getters:{getResult(){return this.result||""},getError(){return this.error||""},getFormData(){return this.formData||{}}},actions:{updateField(n,a){this.formData&&(this.formData[n]=a)},resetForm(){this.formData=D({},V)},SubmitForm(n){return b(this,null,function*(){return new Promise((a,l)=>{q(n).then(e=>{const d=e.message||null;(e.code||404)==200?this.result=e.message:this.error=d,a(e)}).catch(e=>{this.error=e,l(e)})})})},GetData(){return b(this,null,function*(){return new Promise((n,a)=>{G().then(l=>{const e=l.message||null;(l.code||404)==200?this.formData=l.result||{}:this.error=e,n(l)}).catch(l=>{this.error=l,a(l)})})})}}});function j(){return I(v)}const z={class:"page_content"},J={style:{margin:"16px"}},L=R(" \u4FEE\u6539 "),Q=y({__name:"ServerSetting",setup(n){const a=j(),{getFormData:l}=_(a);var e=l;const d=m=>`${m} \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165`,i=S(!1),g=m=>{i.value=!0,a.SubmitForm(m),N("\u66F4\u65B0\u670D\u52A1\u5668\u914D\u7F6E\u6210\u529F"),i.value=!1};return P(()=>{a.GetData()}),(m,u)=>{const s=$,c=O,E=T,A=M;return x(),U("div",z,[o(K),o(A,{onSubmit:g},{default:p(()=>[o(c,{title:"\u670D\u52A1\u7AEF"},{default:p(()=>[o(s,{label:"\u8FDB\u7A0B\u540D",name:"processName","input-align":"right",center:!0,border:!1,modelValue:t(e).processName,"onUpdate:modelValue":u[0]||(u[0]=r=>t(e).processName=r)},null,8,["modelValue"]),o(s,{label:"\u53EF\u6267\u884C\u6587\u4EF6",name:"executablePath","input-align":"right",center:!0,border:!1,modelValue:t(e).executablePath,"onUpdate:modelValue":u[1]||(u[1]=r=>t(e).executablePath=r)},null,8,["modelValue"]),o(s,{label:"\u5185\u5B58\u9608\u503C(%)",name:"memoryThreshold","input-align":"right",center:!0,border:!1,modelValue:t(e).memoryThreshold,"onUpdate:modelValue":u[2]||(u[2]=r=>t(e).memoryThreshold=r),rules:[{required:!0,message:"\u5185\u5B58\u9608\u503C\u4E0D\u80FD\u4E3A\u7A7A"},{pattern:/^[0-9]+$/,message:d}]},null,8,["modelValue","rules"]),o(s,{label:"\u68C0\u6D4B\u5468\u671F(\u79D2)",name:"checkPeriod","input-align":"right",center:!0,border:!1,modelValue:t(e).checkPeriod,"onUpdate:modelValue":u[3]||(u[3]=r=>t(e).checkPeriod=r),rules:[{required:!0,message:"\u68C0\u6D4B\u5468\u671F\u4E0D\u80FD\u4E3A\u7A7A"},{pattern:/^[0-9]+$/,message:d}]},null,8,["modelValue","rules"]),o(s,{label:"\u91CD\u542F\u5EF6\u8FDF(\u79D2)",name:"restartDelay","input-align":"right",center:!0,border:!1,modelValue:t(e).restartDelay,"onUpdate:modelValue":u[4]||(u[4]=r=>t(e).restartDelay=r),rules:[{required:!0,message:"\u91CD\u542F\u5EF6\u8FDF\u4E0D\u80FD\u4E3A\u7A7A"},{pattern:/^[0-9]+$/,message:d}]},null,8,["modelValue","rules"])]),_:1}),o(c,{title:"RCON\u8BBE\u7F6E"},{default:p(()=>[o(s,{label:"RCON\u5730\u5740",name:"rconAddress","input-align":"right",center:!0,border:!1,modelValue:t(e).rconAddress,"onUpdate:modelValue":u[5]||(u[5]=r=>t(e).rconAddress=r),placeholder:"RCON\u5730\u5740"},null,8,["modelValue"]),o(s,{label:"RCON\u7AEF\u53E3",name:"rconPort","input-align":"right",center:!0,border:!1,modelValue:t(e).rconPort,"onUpdate:modelValue":u[6]||(u[6]=r=>t(e).rconPort=r),placeholder:"RCON\u7AEF\u53E3"},null,8,["modelValue"]),o(s,{label:"RCON\u5BC6\u7801",name:"rconPasswd","input-align":"right",center:!0,border:!1,modelValue:t(e).rconPasswd,"onUpdate:modelValue":u[7]||(u[7]=r=>t(e).rconPasswd=r),placeholder:"RCON\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),o(c,{title:"\u672C\u5730\u5907\u4EFD"},{default:p(()=>[o(s,{label:"\u5B58\u6863\u8DEF\u5F84",name:"sourceDir","input-align":"right",center:!0,border:!1,modelValue:t(e).sourceDir,"onUpdate:modelValue":u[8]||(u[8]=r=>t(e).sourceDir=r)},null,8,["modelValue"]),o(s,{label:"\u5907\u4EFD\u8DEF\u5F84",name:"destDir","input-align":"right",center:!0,border:!1,modelValue:t(e).destDir,"onUpdate:modelValue":u[9]||(u[9]=r=>t(e).destDir=r)},null,8,["modelValue"]),o(s,{label:"\u5B58\u6863\u5468\u671F(\u79D2)",name:"backupTime","input-align":"right",center:!0,border:!1,modelValue:t(e).backupTime,"onUpdate:modelValue":u[10]||(u[10]=r=>t(e).backupTime=r),rules:[{required:!0,message:"\u5B58\u6863\u5468\u671F\u4E0D\u80FD\u4E3A\u7A7A"},{pattern:/^[0-9]+$/,message:d}]},null,8,["modelValue","rules"]),o(s,{label:"\u6EDA\u52A8\u4FDD\u5B58\u6570",name:"backupCount","input-align":"right",center:!0,border:!1,modelValue:t(e).backupCount,"onUpdate:modelValue":u[11]||(u[11]=r=>t(e).backupCount=r),rules:[{required:!0,message:"\u6EDA\u52A8\u4FDD\u5B58\u6570\u4E0D\u80FD\u4E3A\u7A7A"},{pattern:/^[0-9]+$/,message:d}]},null,8,["modelValue","rules"])]),_:1}),o(c,{title:"\u4E03\u725B\u5907\u4EFD"},{default:p(()=>[o(s,{label:"accessToken",name:"accessToken","input-align":"right",center:!0,border:!1,modelValue:t(e).accessToken,"onUpdate:modelValue":u[12]||(u[12]=r=>t(e).accessToken=r),placeholder:"\u4E03\u725BaccessToken"},null,8,["modelValue"]),o(s,{label:"secretKey",name:"secretKey","input-align":"right",center:!0,border:!1,modelValue:t(e).secretKey,"onUpdate:modelValue":u[13]||(u[13]=r=>t(e).secretKey=r),placeholder:"\u4E03\u725BsecretKey"},null,8,["modelValue"]),o(s,{label:"bucket",name:"bucket","input-align":"right",center:!0,border:!1,modelValue:t(e).bucket,"onUpdate:modelValue":u[14]||(u[14]=r=>t(e).bucket=r),placeholder:"\u4E03\u725Bbucket"},null,8,["modelValue"])]),_:1}),w("div",J,[o(E,{round:"",block:"",type:"primary",disabled:i.value,"native-type":"submit"},{default:p(()=>[L]),_:1},8,["disabled"])])]),_:1})])}}});const de=H(Q,[["__scopeId","data-v-15bf955d"]]);export{de as default};

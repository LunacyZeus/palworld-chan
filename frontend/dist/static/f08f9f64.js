import{c as T,t as B,n as C,m as O,d as k,r as D,u as E,a as M,b as _,g as j,B as z,e as F,w as V,f as H,h as K,i as q,j as G,k as J,l as h,o as L,p as Y,q as Z,I as Q,s as U,v as W,x as X,y as I,z as x,A as ee,C as g,D as v,E as A,K as te,F as ae,G as ne,H as oe,J as re}from"./e1cebf43.js";import{N as ce}from"./e28c11a8.js";import{_ as se}from"./0ee26181.js";const[$,S]=T("tabbar"),le={route:Boolean,fixed:B,border:B,zIndex:C,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:O(0),safeAreaInsetBottom:{type:Boolean,default:null}},w=Symbol($);var ie=k({name:$,props:le,emits:["change","update:modelValue"],setup(e,{emit:u,slots:c}){const d=D(),{linkChildren:f}=E(w),i=M(d,S),b=()=>{var t;return(t=e.safeAreaInsetBottom)!=null?t:e.fixed},n=()=>{var t;const{fixed:a,zIndex:s,border:m}=e;return _("div",{ref:d,role:"tablist",style:j(s),class:[S({fixed:a}),{[z]:m,"van-safe-area-bottom":b()}]},[(t=c.default)==null?void 0:t.call(c)])};return f({props:e,setActive:(t,a)=>{F(e.beforeChange,{args:[t],done(){u("update:modelValue",t),u("change",t),a()}})}}),()=>e.fixed&&e.placeholder?i(n):n()}});const ue=V(ie),[de,P]=T("tabbar-item"),me=H({},K,{dot:Boolean,icon:String,name:C,badge:C,badgeProps:Object,iconPrefix:String});var ve=k({name:de,props:me,emits:["click"],setup(e,{emit:u,slots:c}){const d=q(),f=G().proxy,{parent:i,index:b}=J(w);if(!i)return;const n=h(()=>{var a;const{route:s,modelValue:m}=i.props;if(s&&"$route"in f){const{$route:o}=f,{to:r}=e,l=Z(r)?r:{path:r};return!!o.matched.find(y=>{const N="path"in l&&l.path===y.path,R="name"in l&&l.name===y.name;return N||R})}return((a=e.name)!=null?a:b.value)===m}),p=a=>{var s;n.value||i.setActive((s=e.name)!=null?s:b.value,d),u("click",a)},t=()=>{if(c.icon)return c.icon({active:n.value});if(e.icon)return _(Q,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var a;const{dot:s,badge:m}=e,{activeColor:o,inactiveColor:r}=i.props,l=n.value?o:r;return _("div",{role:"tab",class:P({active:n.value}),style:{color:l},tabindex:0,"aria-selected":n.value,onClick:p},[_(L,Y({dot:s,class:P("icon"),content:m},e.badgeProps),{default:t}),_("div",{class:P("text")},[(a=c.default)==null?void 0:a.call(c,{active:n.value})])])}}});const _e=V(ve);const fe={class:"h-screen flex flex-col"},be=k({__name:"index",setup(e){const u=U(),c=h(()=>u.keepAliveComponents),d=W(),f=h(()=>d.meta.title),i=h(()=>u.menus.filter(n=>{var p;return!((p=n.meta)!=null&&p.innerPage)})),b=h(()=>!d.meta.hiddenHeader);return(n,p)=>{const t=ce,a=X("routerView"),s=_e,m=ue;return v(),I("div",fe,[b.value?(v(),x(t,{key:0,fixed:"",placeholder:"",title:f.value},null,8,["title"])):ee("",!0),_(a,{class:"flex-1 overflow-x-hidden"},{default:g(({Component:o,route:r})=>[c.value?(v(),x(te,{key:0,include:c.value},[(v(),x(A(o),{key:r.fullPath}))],1032,["include"])):(v(),x(A(o),{key:r.fullPath}))]),_:1}),_(m,{route:"",class:"tabbar"},{default:g(()=>[(v(!0),I(ae,null,ne(i.value,o=>{var r;return v(),x(s,{fixed:"",replace:"",key:o.name,to:o.path,icon:(r=o.meta)==null?void 0:r.icon},{default:g(()=>{var l;return[oe(re((l=o.meta)==null?void 0:l.title),1)]}),_:2},1032,["to","icon"])}),128))]),_:1})])}}});const ge=se(be,[["__scopeId","data-v-08c5a74b"]]);export{ge as default};

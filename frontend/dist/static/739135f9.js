import{c as V,t as I,n as k,m as D,d as y,r as E,u as M,a as j,b as _,g as z,B as F,e as H,w as $,f as K,h as L,i as q,j as G,k as J,l as g,o as Y,p as Z,q as Q,I as U,s as W,v as A,x,y as h,z as X,A as P,C as ee,D as f,E as S,K as te,F as ae,G as ne,H as oe,J as re,L as se}from"./18a24181.js";import{N as ce}from"./58329bef.js";import{_ as le}from"./0ee26181.js";const[w,T]=V("tabbar"),ie={route:Boolean,fixed:I,border:I,zIndex:k,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:D(0),safeAreaInsetBottom:{type:Boolean,default:null}},N=Symbol(w);var ue=y({name:w,props:ie,emits:["change","update:modelValue"],setup(e,{emit:u,slots:s}){const d=E(),{linkChildren:v}=M(N),i=j(d,T),b=()=>{var t;return(t=e.safeAreaInsetBottom)!=null?t:e.fixed},n=()=>{var t;const{fixed:a,zIndex:c,border:m}=e;return _("div",{ref:d,role:"tablist",style:z(c),class:[T({fixed:a}),{[F]:m,"van-safe-area-bottom":b()}]},[(t=s.default)==null?void 0:t.call(s)])};return v({props:e,setActive:(t,a)=>{H(e.beforeChange,{args:[t],done(){u("update:modelValue",t),u("change",t),a()}})}}),()=>e.fixed&&e.placeholder?i(n):n()}});const de=$(ue),[me,C]=V("tabbar-item"),fe=K({},L,{dot:Boolean,icon:String,name:k,badge:k,badgeProps:Object,iconPrefix:String});var _e=y({name:me,props:fe,emits:["click"],setup(e,{emit:u,slots:s}){const d=q(),v=G().proxy,{parent:i,index:b}=J(N);if(!i)return;const n=g(()=>{var a;const{route:c,modelValue:m}=i.props;if(c&&"$route"in v){const{$route:o}=v,{to:r}=e,l=Q(r)?r:{path:r};return!!o.matched.find(B=>{const R="path"in l&&l.path===B.path,O="name"in l&&l.name===B.name;return R||O})}return((a=e.name)!=null?a:b.value)===m}),p=a=>{var c;n.value||i.setActive((c=e.name)!=null?c:b.value,d),u("click",a)},t=()=>{if(s.icon)return s.icon({active:n.value});if(e.icon)return _(U,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var a;const{dot:c,badge:m}=e,{activeColor:o,inactiveColor:r}=i.props,l=n.value?o:r;return _("div",{role:"tab",class:C({active:n.value}),style:{color:l},tabindex:0,"aria-selected":n.value,onClick:p},[_(Y,Z({dot:c,class:C("icon"),content:m},e.badgeProps),{default:t}),_("div",{class:C("text")},[(a=s.default)==null?void 0:a.call(s,{active:n.value})])])}}});const ve=$(_e);const be={class:"h-screen flex flex-col"},pe=y({__name:"index",setup(e){const u=W(),s=g(()=>u.keepAliveComponents),d=se(),v=g(()=>d.meta.title),i=g(()=>u.menus.filter(n=>{var p;return!((p=n.meta)!=null&&p.innerPage)})),b=g(()=>!d.meta.hiddenHeader);return(n,p)=>{const t=ce,a=ee("routerView"),c=ve,m=de;return f(),A("div",be,[x(b)?(f(),h(t,{key:0,fixed:"",placeholder:"",title:x(v)},null,8,["title"])):X("",!0),_(a,{class:"flex-1 overflow-x-hidden"},{default:P(({Component:o,route:r})=>[x(s)?(f(),h(te,{key:0,include:x(s)},[(f(),h(S(o),{key:r.fullPath}))],1032,["include"])):(f(),h(S(o),{key:r.fullPath}))]),_:1}),_(m,{route:"",class:"tabbar"},{default:P(()=>[(f(!0),A(ae,null,ne(x(i),o=>{var r;return f(),h(c,{fixed:"",replace:"",key:o.name,to:o.path,icon:(r=o.meta)==null?void 0:r.icon},{default:P(()=>{var l;return[oe(re((l=o.meta)==null?void 0:l.title),1)]}),_:2},1032,["to","icon"])}),128))]),_:1})])}}});const Pe=le(pe,[["__scopeId","data-v-81a1b128"]]);export{Pe as default};

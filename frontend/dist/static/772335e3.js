var h=(t,o,e)=>new Promise((r,n)=>{var a=s=>{try{u(e.next(s))}catch(f){n(f)}},c=s=>{try{u(e.throw(s))}catch(f){n(f)}},u=s=>s.done?r(s.value):Promise.resolve(s.value).then(a,c);u((e=e.apply(t,o)).next())});import{d as p,l as _,D as y,y as P,A as l,H as g,J as C,x as i,b as m,aq as S,S as R,L as B,au as d,av as I,aw as w}from"./373881a5.js";import{N as k}from"./f5133efc.js";import{I as v}from"./c8f119f8.js";import{C as T}from"./144ff18d.js";const V=p({__name:"NavBar",setup(t){const o=R(),e=B(),r=_(()=>e.meta.title);return(n,a)=>{const c=k;return y(),P(c,{onClickLeft:i(o).back},{title:l(()=>[g(C(i(r)),1)]),left:l(()=>[m(i(v),null,{default:l(()=>[m(i(T))]),_:1})]),right:l(()=>[S(n.$slots,"right")]),_:3},8,["onClickLeft"])}}});function N(t){return d.request({url:"/BroadCast/send",method:"POST",params:t},{isTransformResponse:!1})}function b(){return d.request({url:"/Players/show",method:"GET"},{isTransformResponse:!1})}const x=I({id:"app-rcon",state:()=>({error:"",rconInfo:null,onlinePlayers:null}),getters:{getError(){return this.error||""},getRconInfo(){return this.rconInfo||{}},getOnlinePlayers(){return this.onlinePlayers||[]}},actions:{setRconInfo(t){this.rconInfo=t},setOnlinePlayers(t){this.onlinePlayers=t},SendBroadCast(t){return h(this,null,function*(){return new Promise((o,e)=>{N(t).then(r=>{let n={broadCast:"",error:""};const a=r.message||null;(r.code||404)==200?n=r.result:n.error=a,this.setRconInfo(n),o(r)}).catch(r=>{this.error=r,e(r)})})})},ShowPlayers(){return h(this,null,function*(){return new Promise((t,o)=>{b().then(e=>{this.setOnlinePlayers(e.result||null),t(e)}).catch(e=>{this.error=e,o(e)})})})}}});function A(){return x(w)}export{V as _,A as u};
